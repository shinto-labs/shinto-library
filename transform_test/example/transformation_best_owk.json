[
  {
    "name": "Filter projects for OWK sharing",
    "init": "copy",
    "transformations": [
      {
        "action": "add_field",
        "key": "include_for_owk",
        "type": "boolean",
        "source": {
          "expr": "opleverjaar >= 2025 and opleverjaar <= 2040 and share_profile_owk in ['naam_locatie_en_aantallen', 'full']"
        }
      }
    ],
    "filter": {
      "expr": "include_for_owk == True"
    }
  },
  {
    "name": "Remove internal and sensitive fields",
    "init": "copy",
    "transformations": [
      {
        "action": "remove_field",
        "key": "vertrouwelijk"
      },
      {
        "action": "remove_field",
        "key": "share_profile_owk"
      },
      {
        "action": "remove_field",
        "key": "share_profile_provincie"
      },
      {
        "action": "remove_field",
        "key": "share_profile_regio"
      },
      {
        "action": "remove_field",
        "key": "has_image"
      },
      {
        "action": "remove_field",
        "key": "interne_toelichting"
      },
      {
        "action": "remove_field",
        "key": "knelpunt"
      },
      {
        "action": "remove_field",
        "key": "project_creation_datetime"
      },
      {
        "action": "remove_field",
        "key": "project_description"
      },
      {
        "action": "remove_field",
        "key": "projectleider"
      },
      {
        "action": "remove_field",
        "key": "stage_modified_datetime"
      },
      {
        "action": "remove_field",
        "key": "stage_modified_username"
      },
      {
        "action": "remove_field",
        "key": "stage_uuid"
      },
      {
        "action": "remove_field",
        "key": "timestamp_deleted"
      },
      {
        "action": "remove_field",
        "key": "doelgroep"
      },
      {
        "action": "remove_field",
        "key": "attachments"
      },
      {
        "action": "remove_field",
        "key": "include_for_owk"
      },
      {
        "action": "rename_field",
        "from": "publieke_naam",
        "to": "naam"
      },
      {
        "action": "rename_field",
        "from": "publieke_omschrijving",
        "to": "omschrijving"
      },
      {
        "action": "rename_field",
        "from": "publieke_ontwikkelaar",
        "to": "ontwikkelaar"
      }
    ]
  }
]
